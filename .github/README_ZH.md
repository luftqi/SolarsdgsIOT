# SolarSDGs IoT - å¤ªé™½èƒ½åŠŸç‡ç›£æ§ç³»çµ±

[English](../README.md) | **ç¹é«”ä¸­æ–‡**

> ğŸŒ å°ˆæ¥­çš„ IoT å¤ªé™½èƒ½ç›£æ§å¹³å°
> å¾ Node-RED é·ç§»åˆ°ç¾ä»£åŒ–çš„ Node.js + Vue.js å…¨ç«¯æŠ€è¡“æ£§

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)](https://nodejs.org/)
[![Vue 3](https://img.shields.io/badge/vue-3.4%2B-brightgreen)](https://vuejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)

---

## ğŸ“– å°ˆæ¡ˆç°¡ä»‹

SolarSDGs IoT æ˜¯ä¸€å€‹å®Œæ•´çš„å¤ªé™½èƒ½ç™¼é›»ç›£æ§ç³»çµ±ï¼Œå°ˆç‚ºå•†æ¥­åŒ–å¤šç§Ÿæˆ¶æ‡‰ç”¨è¨­è¨ˆã€‚ç³»çµ±æ¡ç”¨ç¾ä»£åŒ–çš„å…¨ç«¯æŠ€è¡“æ£§ï¼Œæä¾›å³æ™‚ç›£æ§ã€æ•¸æ“šåˆ†æå’Œè¨­å‚™ç®¡ç†åŠŸèƒ½ã€‚

### æ ¸å¿ƒç‰¹è‰²

- âš¡ **å³æ™‚åŠŸç‡ç›£æ§** - æ¯ 60 ç§’æ›´æ–°ç™¼é›»åŠŸç‡ã€è² è¼‰åŠŸç‡åŠæ•ˆç‡æ•¸æ“š
- ğŸ“ **GPS å®šä½è¿½è¹¤** - å³æ™‚è¿½è¹¤è¨­å‚™ä½ç½®ï¼Œæ”¯æ´åœ°åœ–å¯è¦–åŒ–
- ğŸ¢ **å¤šç§Ÿæˆ¶æ¶æ§‹** - å®Œæ•´çš„è³‡æ–™éš”é›¢èˆ‡æ¬Šé™ç®¡ç†
- ğŸ“Š **æ­·å²æ•¸æ“šåˆ†æ** - æ™‚é–“åºåˆ—åœ–è¡¨ï¼Œæ”¯æ´ 1 å°æ™‚åˆ° 1 å¹´çš„æ™‚é–“ç¯„åœ
- ğŸ”„ **å³æ™‚æ¨é€** - WebSocket å³æ™‚æ•¸æ“šæ¨é€ï¼Œå»¶é²å°æ–¼ 3 ç§’
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿç­‰å¤šç¨®è¨­å‚™
- ğŸ” **å®‰å…¨å¯é ** - HTTPS åŠ å¯†ã€JWT èªè­‰ã€è³‡æ–™åº«é˜²æ³¨å…¥
- ğŸ³ **Docker éƒ¨ç½²** - å®¹å™¨åŒ–éƒ¨ç½²ï¼Œä¸€éµå•Ÿå‹•æ‰€æœ‰æœå‹™

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
SolarSDGs-IoT/
â”œâ”€â”€ ğŸ“„ README.md                    # å°ˆæ¡ˆä¸»æ–‡æª”ï¼ˆè‹±æ–‡ï¼‰
â”œâ”€â”€ ğŸ“„ .github/README_ZH.md         # å°ˆæ¡ˆä¸»æ–‡æª”ï¼ˆä¸­æ–‡ï¼‰
â”œâ”€â”€ ğŸ¤– CLAUDE.md                    # Claude Code é–‹ç™¼æŒ‡å—
â”œâ”€â”€ ğŸ“ CODING_STANDARDS.md          # ç¨‹å¼ç¢¼è¦ç¯„èˆ‡æœ€ä½³å¯¦è¸
â”œâ”€â”€ ğŸ“‹ DOCUMENTATION_UPDATE.md      # æ–‡æª”æ›´æ–°è¨˜éŒ„
â”‚
â”œâ”€â”€ ğŸ“ docs/                        # å®Œæ•´æ–‡æª”ç›®éŒ„
â”‚   â”œâ”€â”€ ğŸŒŸ ENVIRONMENT_SETUP.md    # ç”Ÿç”¢ç’°å¢ƒè¨­ç½®æŒ‡å—ï¼ˆVPS + Docker + Caddyï¼‰
â”‚   â”œâ”€â”€ âš¡ VPS_QUICK_REFERENCE.md  # VPS å¿«é€Ÿåƒè€ƒå¡ç‰‡
â”‚   â”œâ”€â”€ ğŸ”Œ MCP_SETUP.md            # Hostinger MCP è¨­ç½®
â”‚   â””â”€â”€ ğŸ“ deployment/             # éƒ¨ç½²ç›¸é—œæ–‡æª”
â”‚       â””â”€â”€ QUICK_START.md         # å¿«é€Ÿé–‹å§‹æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ”§ backend/                     # Node.js + TypeScript å¾Œç«¯
â”‚   â”œâ”€â”€ src/                       # æºä»£ç¢¼ç›®éŒ„
â”‚   â”œâ”€â”€ package.json               # ä¾è³´ç®¡ç†
â”‚   â”œâ”€â”€ tsconfig.json              # TypeScript é…ç½®
â”‚   â””â”€â”€ .env.example               # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”‚
â”œâ”€â”€ ğŸ¨ frontend/                    # Vue 3 + TypeScript å‰ç«¯
â”‚   â”œâ”€â”€ src/                       # æºä»£ç¢¼ç›®éŒ„
â”‚   â”œâ”€â”€ package.json               # ä¾è³´ç®¡ç†
â”‚   â”œâ”€â”€ vite.config.ts             # Vite é…ç½®
â”‚   â””â”€â”€ .env.example               # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”‚
â”œâ”€â”€ ğŸ³ docker/                      # Docker å®¹å™¨é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml         # ç”Ÿç”¢ç’°å¢ƒé…ç½®
â”‚   â”œâ”€â”€ docker-compose.dev.yml     # é–‹ç™¼ç’°å¢ƒé…ç½®
â”‚   â”œâ”€â”€ backend/Dockerfile         # å¾Œç«¯æ˜ åƒ
â”‚   â”œâ”€â”€ frontend/Dockerfile        # å‰ç«¯æ˜ åƒ
â”‚   â””â”€â”€ mqtt/mosquitto.conf        # MQTT Broker é…ç½®
â”‚
â””â”€â”€ ğŸ“œ scripts/                     # éƒ¨ç½²èˆ‡å·¥å…·è…³æœ¬
    â”œâ”€â”€ setup-vps.sh               # VPS è‡ªå‹•è¨­ç½®è…³æœ¬
    â”œâ”€â”€ deploy-one-click.ps1       # Windows ä¸€éµéƒ¨ç½²
    â””â”€â”€ test-mcp.js                # MCP é€£æ¥æ¸¬è©¦
```

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### æŠ€è¡“æ£§

**å¾Œç«¯**
- Node.js 20+ LTS
- Express.js - Web æ¡†æ¶
- TypeScript 5.0 - é¡å‹å®‰å…¨
- PostgreSQL 16 - é—œè¯å¼è³‡æ–™åº«
- Mosquitto MQTT - è¨Šæ¯ä½‡åˆ—

**å‰ç«¯**
- Vue 3 - æ¼¸é€²å¼æ¡†æ¶
- Vite - æ¥µé€Ÿå»ºæ§‹å·¥å…·
- TypeScript - é¡å‹å®‰å…¨
- Chart.js - åœ–è¡¨å¯è¦–åŒ–
- Leaflet - GPS åœ°åœ–

**éƒ¨ç½²èˆ‡åŸºç¤è¨­æ–½**
- Docker & Docker Compose - å®¹å™¨åŒ–
- Caddy - åå‘ä»£ç†èˆ‡è‡ªå‹• HTTPS
- Ubuntu 24.04 LTS - ä½œæ¥­ç³»çµ±
- Hostinger VPS - é›²ç«¯ä¸»æ©Ÿ

### ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Internet / Users                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Caddy (åå‘ä»£ç† + HTTPS)                     â”‚
â”‚  â€¢ è‡ªå‹• SSL è­‰æ›¸ (Let's Encrypt)                         â”‚
â”‚  â€¢ HTTP/2 & HTTP/3                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend        â”‚      â”‚  Backend API     â”‚
â”‚  (Vue 3 + Vite)  â”‚      â”‚  (Node.js)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“               â†“               â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ PostgreSQL  â”‚  â”‚ MQTT Broker  â”‚  â”‚ WebSocket â”‚
          â”‚ (è³‡æ–™åº«)     â”‚  â”‚ (è¨Šæ¯ä½‡åˆ—)    â”‚  â”‚ (å³æ™‚æ¨é€) â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†‘
                                    â”‚ MQTT over 4G
                                    â†“
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  IoT è¨­å‚™        â”‚
                          â”‚  (Pico W + SIM)  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- Node.js >= 18.0.0
- npm >= 9.0.0
- Docker >= 24.0.0
- PostgreSQL >= 16.0 (æˆ–ä½¿ç”¨ Docker)

### æœ¬åœ°é–‹ç™¼

```bash
# 1. å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/luftqi/SolarsdgsIOT.git
cd SolarsdgsIOT

# 2. å®‰è£å¾Œç«¯ä¾è³´
cd backend
npm install
cp .env.example .env
# ç·¨è¼¯ .env å¡«å…¥è³‡æ–™åº«å’Œ MQTT é…ç½®

# 3. å•Ÿå‹•å¾Œç«¯é–‹ç™¼ä¼ºæœå™¨
npm run dev

# 4. å®‰è£å‰ç«¯ä¾è³´ï¼ˆæ–°çµ‚ç«¯è¦–çª—ï¼‰
cd frontend
npm install
cp .env.example .env

# 5. å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨
npm run dev
```

### ä½¿ç”¨ Docker éƒ¨ç½²

```bash
# 1. è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cp .env.example .env

# 2. ç·¨è¼¯ .env å¡«å…¥é…ç½®

# 3. å•Ÿå‹•æ‰€æœ‰æœå‹™
docker compose up -d

# 4. æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker compose ps

# 5. æŸ¥çœ‹æ—¥èªŒ
docker compose logs -f
```

---

## ğŸ“š å®Œæ•´æ–‡æª”

### ğŸŒŸ é‡é»æ–‡æª”ï¼ˆå¿…è®€ï¼‰

1. **[ç’°å¢ƒè¨­ç½®æŒ‡å—](docs/ENVIRONMENT_SETUP.md)** â­
   å®Œæ•´çš„ VPS ç”Ÿç”¢ç’°å¢ƒè¨­ç½®ï¼ŒåŒ…å« Caddy + Docker æ¶æ§‹

2. **[VPS å¿«é€Ÿåƒè€ƒ](docs/VPS_QUICK_REFERENCE.md)** âš¡
   æ‰€æœ‰é—œéµè³‡è¨Šå’Œå¸¸ç”¨å‘½ä»¤çš„å¿«é€ŸæŸ¥è©¢å¡ç‰‡

3. **[Claude Code æŒ‡å—](CLAUDE.md)** ğŸ¤–
   ä½¿ç”¨ Claude Code å”åŠ©é–‹ç™¼çš„æŒ‡å¼•å’Œè¦ç¯„

### é–‹ç™¼æ–‡æª”

- [ç¨‹å¼ç¢¼è¦ç¯„](CODING_STANDARDS.md) - è©³ç´°çš„ç·¨ç¢¼æ¨™æº–
- [å°ˆæ¡ˆçµæ§‹](FILE_NAVIGATION.md) - æª”æ¡ˆå°èˆªèˆ‡èªªæ˜
- [éƒ¨ç½²æ­¥é©Ÿ](DEPLOYMENT_STEPS.md) - å®Œæ•´éƒ¨ç½²æµç¨‹

### éƒ¨ç½²æ–‡æª”

- [å¿«é€Ÿé–‹å§‹](docs/deployment/QUICK_START.md) - å¿«é€Ÿéƒ¨ç½²åˆ° Hostinger VPS
- [MCP è¨­ç½®](docs/MCP_SETUP.md) - Hostinger API æ•´åˆ

---

## ğŸ”§ é–‹ç™¼æŒ‡å—

### ç¨‹å¼ç¢¼è¦ç¯„

å°ˆæ¡ˆéµå¾ªåš´æ ¼çš„ç¨‹å¼ç¢¼è¦ç¯„ï¼Œè©³è¦‹ [CODING_STANDARDS.md](CODING_STANDARDS.md)

**æ ¸å¿ƒè¦ç¯„**ï¼š
- âœ… ä½¿ç”¨ TypeScriptï¼Œç¦æ­¢ `any` é¡å‹
- âœ… éµå®ˆåˆ†å±¤æ¶æ§‹ï¼šController â†’ Service â†’ Repository
- âœ… æ‰€æœ‰ async å‡½æ•¸å¿…é ˆæœ‰éŒ¯èª¤è™•ç†
- âœ… ä½¿ç”¨ ESLint + Prettier é€²è¡Œç¨‹å¼ç¢¼æ ¼å¼åŒ–
- âœ… æäº¤å‰å¿…é ˆé€šé `npm run lint` å’Œ `npm test`

### Git å·¥ä½œæµç¨‹

```bash
# 1. å»ºç«‹åŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name

# 2. é€²è¡Œé–‹ç™¼...

# 3. æäº¤è®Šæ›´
git add .
git commit -m "feat: add your feature description"

# 4. æ¨é€åˆ°é ç«¯
git push origin feature/your-feature-name

# 5. åœ¨ GitHub ä¸Šå»ºç«‹ Pull Request
```

### æäº¤è¨Šæ¯æ ¼å¼

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è¦ç¯„ï¼š

- `feat:` - æ–°åŠŸèƒ½
- `fix:` - ä¿®å¾©éŒ¯èª¤
- `docs:` - æ–‡æª”æ›´æ–°
- `style:` - ç¨‹å¼ç¢¼æ ¼å¼ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
- `refactor:` - é‡æ§‹
- `test:` - æ¸¬è©¦ç›¸é—œ
- `chore:` - å»ºç½®æµç¨‹æˆ–è¼”åŠ©å·¥å…·

---

## ğŸŒ ç”Ÿç”¢ç’°å¢ƒè³‡è¨Š

### VPS é…ç½®

- **ä¸»æ©Ÿ**: srv1122961.hstgr.cloud
- **IP**: 72.61.117.219
- **ç³»çµ±**: Ubuntu 24.04 LTS
- **ä½ç½®**: Malaysia - Kuala Lumpur

### åŸŸåè¨­å®š

- **ä¸»åŸŸå**: solarsdgs.online
- **API**: api.solarsdgs.online
- **ç®¡ç†ä»‹é¢**: admin.solarsdgs.online
- **MQTT**: mqtt.solarsdgs.online

### æœå‹™ç«¯å£

| æœå‹™ | ç«¯å£ | èªªæ˜ |
|------|------|------|
| Caddy | 80, 443 | HTTP/HTTPS |
| Backend | 3000 | API ä¼ºæœå™¨ |
| WebSocket | 3001 | å³æ™‚æ¨é€ |
| PostgreSQL | 5432 | è³‡æ–™åº« |
| MQTT | 1883, 9001 | MQTT + WebSocket |
| Node-RED | 1880 | å·¥ä½œæµå¼•æ“ |

---

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿è²¢ç»ï¼è«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'feat: add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å»ºç«‹ Pull Request

### é–‹ç™¼å‰å¿…è®€

- ğŸ“– [CLAUDE.md](CLAUDE.md) - Claude Code é–‹ç™¼è¦ç¯„
- ğŸ“ [CODING_STANDARDS.md](CODING_STANDARDS.md) - ç¨‹å¼ç¢¼æ¨™æº–

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

---

## ğŸ“ è¯çµ¡è³‡è¨Š

- **å°ˆæ¡ˆç¶­è­·è€…**: SolarSDGs Development Team
- **Email**: solarsdgs@gmail.com
- **GitHub**: https://github.com/luftqi/SolarsdgsIOT

---

## ğŸ¯ å°ˆæ¡ˆç‹€æ…‹

- âœ… å°ˆæ¡ˆæ¶æ§‹è¨­è¨ˆå®Œæˆ
- âœ… å®Œæ•´æ–‡æª”æ’°å¯«å®Œæˆ
- âœ… Docker ç’°å¢ƒé…ç½®å®Œæˆ
- ğŸš§ å¾Œç«¯ API é–‹ç™¼ä¸­
- ğŸš§ å‰ç«¯ä»‹é¢é–‹ç™¼ä¸­
- â³ VPS ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²ï¼ˆå¾…é€²è¡Œï¼‰
- â³ IoT è¨­å‚™æ•´åˆï¼ˆå¾…é€²è¡Œï¼‰

---

**æœ€å¾Œæ›´æ–°**: 2025-11-12
**ç‰ˆæœ¬**: 1.0.0
**æ–‡æª”èªè¨€**: ç¹é«”ä¸­æ–‡

---

ğŸ’¡ **æç¤º**: æŸ¥çœ‹ [è‹±æ–‡ç‰ˆ README](../README.md) | é–±è®€ [å®Œæ•´éƒ¨ç½²æŒ‡å—](docs/ENVIRONMENT_SETUP.md)
